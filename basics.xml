<section id="basics">
    <title>Basics</title>

    <para>There are lots of little bits of knowledge you need to know to get
        started.  Here I attempt to catalog them.</para>

    <section id="mailboxes">
        <title>Mailboxes</title>

        <section id="mailbox_namespace">

            <title>Mailbox Namespace</title>

            <para>User mailboxes live under 'user.&lt;username&gt;'.  To the
            user, this mailbox is called simply <emphasis>INBOX</emphasis>;
            sub-folders such as 'user.&lt;username&gt;.Sent', appear to the
            user as 'INBOX.Sent' (NB: altnamespace).</para>

        </section>

        <section id="mailbox_storage">

            <title>Mailbox Storage</title>

            <para>Cyrus IMAP's mailbox storage is not Maildir, although it
            is similar in some respects.  You should not expect to access
            the mailboxes directly as you might other servers; only access
            messages through POP3 or IMAP.</para>

            <para>The mailbox storage does use databases, but it cannot use
            SQL.  People occasionally ask about using SQL, but it does not
            seem to be an appropriate use of SQL; the data is not especially
            relational.  The data is hashed for fast lookups, which is
            better done by file-based databases when data is not relational.
            Most people who are ask about SQL storage have high-availability
            in mind, which is easy with certain databases (like MySQL);
            most highly-available Cyrus implementations use SANs and
            clustered filesystems.
            </para>
            
        </section>

        <section id="mailbox_management">

            <title>Mailbox Management</title>

            <para>Mailboxes have to be created before being used, either with
            'cyradm' or another tool (NB: autocreate patches).</para>

            <para>Deleting a message in IMAP requires two steps: First, set
            the \Deleted flag on the message.  Second, EXPUNGE the mailbox.
            Many MUAs first move messages to a Trash folder, but given the
            recoverability inherent in a two-step deletion, it is generally
            considered a design flaw of the MUAs.</para>

            <section id="mailbox_deletion">

                <title>Deletion</title>

                <para>Even an admin user (usually cyrus) cannot delete a
                mailbox by default.  To delete a mailbox, cyrus needs to be
                given the 'c' ('create') permission.</para>

                <para>The delete permission, 'd', refers to the ability to
                delete messages, not mailboxes.</para>

            </section>

        </section>
    </section>

    <section id="general_logging">
        <title>General Logging</title>

        <para>Cyrus IMAP logs to syslog facility local6 by default, but can
        be overridden at compile-time.  (Simon Matter's RPMs default to the
        mail facility.)  To configure logging, add a line like the following
        to your <filename>/etc/syslog.conf</filename>:</para>

        <para>
            <screen>
local6.info			/var/log/imapd.log
            </screen>
        </para>

        <para>The usual rules for <filename>syslog.conf</filename> apply;
            you must use tabs and not spaces.  If your platform, such as
            Solaris, requires the log file exist before syslogd will write to
            it, you must create it.  Finally, you must send syslogd the HUP
            signal to make it reload its configuration or restart it.</para>

        <para>You might also want to have it log to the same file as the
            mail facility.  If you do not want to recompile, just change the
        line in for the mail facility to include the local6 facility, such
        as the following:</para>

        <para>
            <screen>
mail.info;local6.info       /var/log/maillog
            </screen>
        </para>

        <para>Your messages log might have a wildcard facility, so
            you should exclude local6 from that by changing it to be similar
            to the following:</para>

        <para>
            <screen>
*.info;mail.none;authpriv.none;cron.none;local6.none /var/log/messages
            </screen>
        </para>

        <para>If you want more messages, change "info" to "debug", but be
            warned that some of the debugging messages are informational
            and might not be generally cause for worry if you are not
            experiencing problems.</para>

    </section>

    <!--
    <itemizedlist>
        <listitem>
        </itemizedlist> -->
</section>
<!-- vim:ft=docbkxml
-->
